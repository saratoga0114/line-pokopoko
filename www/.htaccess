# mod_rewrite エンジンを有効化
<IfModule mod_rewrite.c>
RewriteEngine On

# ----------------------------------------------------
# 1. 実際のファイル/ディレクトリが存在する場合は処理をスキップ
# ----------------------------------------------------
# 存在するファイル（css, image, js フォルダ内のファイルなど）へのアクセスはリライトしない
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# 存在するディレクトリへのアクセスはリライトしない
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# ----------------------------------------------------
# 2. ルートパス / へのアクセス
# ----------------------------------------------------
# ドメイン直下 (https://example.com/) にアクセスがあったら index.html を表示
RewriteRule ^$ index.html [L]

# ----------------------------------------------------
# 3. /post 以下のアクセス
# ----------------------------------------------------
# /post または /post/ にアクセスがあったらトップへリダイレクト
RewriteRule ^post/?$ / [R=301,L]

# /post/xxx にアクセスがあったら post/xxx.html を表示
# （.html が既に付いている場合は除外）
RewriteRule ^post/([^/.]+)$ post/$1.html [L]

# ----------------------------------------------------
# 4. /sitemap へのアクセス
# ----------------------------------------------------
# /sitemap にアクセスがあったら sitemap.xml を表示
RewriteRule ^sitemap$ sitemap.xml [L]

# ----------------------------------------------------
# 5. /battle 以下のアクセス
# ----------------------------------------------------
# /battle または /battle/ にアクセスがあったら battle/index.html を表示
RewriteRule ^battle/?$ battle/index.html [L]

# /battle/xxx にアクセスがあったら battle/xxx.html を表示
# （.html が既に付いている場合は除外）
RewriteRule ^battle/([^/.]+)$ battle/$1.html [L]

# ----------------------------------------------------
# 6. /nameko 以下のアクセス
# ----------------------------------------------------
# /nameko または /nameko/ にアクセスがあったら nameko/index.html を表示
RewriteRule ^nameko/?$ nameko/index.html [L]

</IfModule>
